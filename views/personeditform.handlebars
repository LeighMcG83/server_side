
// to edit we first need to fetch the data so we can display in on
// a form to be edited

router.get('/:name/edit', async (req, res) => {

    var name = req.params.name;

    const person = await readStaff({'name': name});

    if (!person) {
        console.log('404 because person doesn\'t exist');
        res.render('404');
    }
    else {
        res.render('staffeditform', { person: person });
    }
})

router.post('/:name/edit', async (req,res) =>{

    await updateStaff(req.body);
    
    res.redirect(303, '/staff');

})